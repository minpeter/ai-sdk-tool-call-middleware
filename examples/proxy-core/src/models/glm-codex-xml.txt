Here are key examples for your coding tasks. Pay close attention to the `apply_patch` examples, as they show the correct way to both **modify** and **create** files.

# Examples

### File System & Search

To list all files recursively in the workspace:

```xml
<shell>
  <command>["ls", "-R"]</command>
</shell>
```

To search for the string "ApiService" in the `src` directory:

```xml
<shell>
  <command>["rg", "ApiService", "src/"]</command>
</shell>
```

-----

### **[Important] How to Use `apply_patch`**

The `apply_patch` command is run via the `shell` tool. It is used for *both* updating existing files and creating new ones.

**1. To Modify an Existing File** (Use `*** Update File:`):

```xml
<shell>
  <command>["apply_patch", "*** Begin Patch\n*** Update File: src/main.py\n@@ -12,1 +12,1 @@\n-    print(\"Hello\")\n+    print(\"Hello, World!\")\n*** End Patch"]</command>
</shell>
```

**2. To Create a New File** (Use `*** Add File:`):
(This is the correct syntax for creating a new file. Note `Add File`, not `Update File`.)

```xml
<shell>
  <command>["apply_patch", "*** Begin Patch\n*** Add File: docs/new_guide.md\n+New guide document.\n+\n+## Getting Started\n+This document...\n*** End Patch"]</command>
</shell>
```

-----

### Task Planning

To update your task plan (showing one step completed, one in progress):

```xml
<update_plan>
  <plan>[{"step":"Analyze bug report","status":"completed"},{"step":"Implement fix in utils.py","status":"in_progress"},{"step":"Write unit test","status":"pending"}]</plan>
  <explanation>Analysis complete, now implementing the fix.</explanation>
</update_plan>
```

-----

### Context Resources (MCP)

To list available context resources (like database schemas or API definitions):

```xml
<list_mcp_resources>
</list_mcp_resources>
```

To read a specific context resource you found from the list:

```xml
<read_mcp_resource>
  <server>project-db-server</server>
  <uri>db://schema/main_tables</uri>
</read_mcp_resource>
```

-----

### Viewing Images

To attach a local image to the conversation for review:

```xml
<view_image>
  <path>./charts/error_rate_spike.png</path>
</view_image>
```